<!-- Layout sidenav -->
<div id="layout-sidenav" class="<% if local_assigns[:horizontal] == true %>layout-sidenav-horizontal sidenav-horizontal container-p-x flex-grow-0<% else %>layout-sidenav sidenav-vertical<% end %> sidenav bg-sidenav-theme">

  <!-- Inner -->
  <ul class="sidenav-inner<% if local_assigns[:horizontal] != true %> py-1<% end %>">

    <li class="sidenav-item<%= current_page?(root_path) ? ' active' : '' %>">
      <%= link_to root_path, class: "sidenav-link" do %>
        <i class="sidenav-icon ion ion-ios-contact"></i><div>Home</div>
      <% end %>
    </li>

    <!-- Chaträume -->
    <li class="sidenav-item">
      <a href="javascript:void(0)" class="sidenav-link sidenav-toggle"><i class="sidenav-icon ion ion-ios-chatboxes"></i><div>Chaträume</div></a>

      <ul class="sidenav-menu">
        <% if @channels.present? %>
          <% @channels.each do |channel| %>
            <li class="<%= params[:channel_id].to_i == channel.id ? ' active' : '' %> channel-<%=channel.id %>" style="display: flex;align-items: center;">
              <%= link_to channel.name, channel_messages_path(channel), class: "sidenav-link" %>
              <span style="background: red;width: 10px;height: 10px;border-radius: 50%;" class="<%= params[:channel_id].to_i == channel.id ? 'text-white' : '' %> <%= @notification_channel_ids.include?(channel.id) ? '' : 'hidden' %> my-badge bg-danger float-right"></span>
            </li>
          <% end %>
        <% end %>
      </ul>
    </li>

    <!-- Adminarea -->
    <li class=" sidenav-item">
      <a href="javascript:void(0)" class="sidenav-link sidenav-toggle"><i class="sidenav-icon ion ion-ios-options"></i><div>Verwaltung</div></a>

      <ul class="sidenav-menu">
        <li class="sidenav-item<%= current_page?(channels_path) ? ' active' : '' %>">
          <%= link_to channels_path, class: "sidenav-link" do %><div>Chaträume</div><% end %>
        </li>

        <li class="sidenav-item<%= current_page?(users_path) ? ' active' : '' %>">
          <%= link_to users_path, class: "sidenav-link" do %><div>User</div><% end %>
        </li>
      </ul>
    </li>

  </ul>
</div>
<!-- / Layout sidenav -->